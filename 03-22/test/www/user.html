<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <script src="jquery.js"></script>
  <script>
    window.onload = function () {

      var otxtUser = document.getElementById('user');
      var otxtPass = document.getElementById('pwd');
      var oBtnReg = document.getElementById('reg_btn');
      var oBtnLogin = document.getElementById('login_btn');

      oBtnReg.onclick = function () {
        $.ajax({
          url: '/user',
          data: {
            act: 'reg',
            user: otxtUser.value,
            pass: otxtPass.value
          },
          type: 'GET',
          success: function (res) {
            var json = eval('(' + res + ')');

            if (json.ok) {
              alert("注册成功");
            } else {
              alert("注册失败," + json.msg);
            }
          },
          error: function () {
            alert("通信失败");
          }
        });
      }


      oBtnLogin.onclick = function () {
        $.ajax({
          url: '/user',
          data: {
            act: 'login',
            user: otxtUser.value,
            pass: otxtPass.value
          },
          type: 'GET',
          success: function (res) {
            var json = eval('(' + res + ')');

            if (json.ok) {
              alert("登录成功");
            } else {
              alert("登录失败," + json.msg);
            }
          },
          error: function () {
            alert("通信失败");
          }
        });
      }

    }
  </script>
</head>
<body>

  用户：<input type="text" id="user"/><br>
  密码：<input type="password" id="pwd"/><br>
  <input type="button" value="注册" id="reg_btn" />
  <input type="button" value="登录" id="login_btn"/>

</body>
</html>